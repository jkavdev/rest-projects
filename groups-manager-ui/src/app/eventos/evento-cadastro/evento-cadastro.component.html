<div class="container">

  <form autocomplete="off" #eventoForm="ngForm" (ngSubmit)="salvar(eventoForm)">

    <div class="ui-g">

      <div class="ui-g-12">
        <h1>Novo Evento</h1>
      </div>

      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>Data do Evento</label>
        <p-calendar showTime="true" hourFormat="24" name="data" [(ngModel)]="evento.data" #data="ngModel" required></p-calendar>
        <app-message [control]="data" error="required" text="Informe data do Evento"></app-message>
      </div>
      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>Descrição do Evento</label>
        <input type="text" pInputText name="descricao" [(ngModel)]="evento.descricao" #descricao="ngModel" required/>
        <app-message [control]="descricao" error="required" text="Informe descrição do Evento"></app-message>
      </div>
      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>Valor do Evento</label>
        <input type="text" name="valor" [(ngModel)]="evento.valor" pInputText currencyMask placeholder="0,00" [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',', allowNegative: false}" />
      </div>
      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>Lotação Máxima</label>
        <p-spinner size="100" name="lotacao" [(ngModel)]="evento.lotacaoMaxima" #lotacao="ngModel" required></p-spinner>
        <app-message [control]="lotacao" error="required" text="Informe lotação máxima do Evento"></app-message>
      </div>
      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>Grupo</label>
        <p-dropdown [autoWidth]="false" [options]="grupos" name="grupo" [(ngModel)]="evento.grupo" #grupo="ngModel" required placeholder="Selecione"></p-dropdown>
        <app-message [control]="grupo" error="required" text="Informe o Grupo"></app-message>
      </div>
      <div class="ui-g-12 ui-fluid">
        <label>Objetivo do Evento</label>
        <textarea pInputTextarea autoResize="false" name="objetivo" [(ngModel)]="evento.objetivo" #objetivo="ngModel" required></textarea>
        <app-message [control]="objetivo" error="required" text="Informe o objetivo do Evento"></app-message>
      </div>

      <div class="ui-g-12">
        <h2>Endereço do Evento</h2>
      </div>

      <div class="ui-g-12 ui-md-2 ui-fluid">
        <label>CEP</label>
        <p-inputMask (onComplete)="buscarEndereco(cep.value)" mask="99.999-999" name="cep" [(ngModel)]="evento.endereco.cep" #cep="ngModel" required></p-inputMask>
        <app-message [control]="cep" error="required" text="Informe o CEP do Evento"></app-message>
      </div>
      <div class="ui-g-12 ui-md-10 ui-fluid">
        <label>Logradouro</label>
        <input type="text" pInputText name="logradouro" [(ngModel)]="evento.endereco.logradouro" #rua="ngModel" required/>
        <app-message [control]="rua" error="required" text="Informe a rua do Evento"></app-message>
      </div>
      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>Unidade</label>
        <input type="text" pInputText name="numero" [(ngModel)]="evento.endereco.unidade" #numero="ngModel" required/>
        <app-message [control]="numero" error="required" text="Informe o número do endereço do Evento"></app-message>
      </div>
      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>Bairro</label>
        <input type="text" pInputText name="bairro" [(ngModel)]="evento.endereco.bairro" #bairro="ngModel" required/>
        <app-message [control]="bairro" error="required" text="Informe o bairro do Evento"></app-message>
      </div>
      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>Cidade</label>
        <input type="text" pInputText name="cidade" [(ngModel)]="evento.endereco.localidade" #cidade="ngModel" required/>
        <app-message [control]="cidade" error="required" text="Informe a cidade do Evento"></app-message>
      </div>
      <div class="ui-g-12 ui-md-6 ui-fluid">
        <label>UF</label>
        <p-dropdown [autoWidth]="false" [options]="ufs" name="uf" [(ngModel)]="evento.endereco.uf" #uf="ngModel" required placeholder="Selecione"></p-dropdown>
        <app-message [control]="uf" error="required" text="Informe o estado do Evento"></app-message>
      </div>
      <div class="ui-g-12 ui-fluid">
        <label>Complemento</label>
        <textarea pInputTextarea autoResize="false" name="complemento" [(ngModel)]="evento.endereco.complemento" #complemento="ngModel"></textarea>
      </div>

      <div class="ui-g-12">
        <button type="submit" pButton label="Salvar" [disabled]="!eventoForm.valid"></button>
        <a pButton label="Limpar" (click)="limpar(eventoForm)"></a>
        <a routerLink="/eventos">Voltar para a Pesquisa</a>
      </div>

    </div>

  </form>

</div>